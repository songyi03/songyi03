<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>íšŒì›ê°€ì… + ë¯¸ë¦¬ë³´ê¸°</title>
  <style>
    .error {
      border: 2px solid red;
      background-color: #ffe6e6;
    }
  </style>
</head>
<body>
  <h2>íšŒì›ê°€ì…</h2>
  <form id="signupForm" novalidate>
    <input type="text" id="username" placeholder="ì´ë¦„ ì…ë ¥"><br><br>
    <input type="email" id="email" placeholder="ì´ë©”ì¼ ì…ë ¥"><br><br>
    <input type="password" id="password" placeholder="ë¹„ë°€ë²ˆí˜¸ (8ì ì´ìƒ)"><br><br>
    <button type="submit">ì œì¶œ</button>
  </form>

  <hr>

  <h3>ğŸ“ ë¯¸ë¦¬ë³´ê¸°</h3>
  <p id="previewName">ì´ë¦„: </p>
  <p id="previewEmail">ì´ë©”ì¼: </p>
  <p id="previewPassword">ë¹„ë°€ë²ˆí˜¸: </p>

  <script>
    // ì…ë ¥ ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
    const usernameInput = document.getElementById("username");
    const emailInput = document.getElementById("email");
    const passwordInput = document.getElementById("password");

    const previewName = document.getElementById("previewName");
    const previewEmail = document.getElementById("previewEmail");
    const previewPassword = document.getElementById("previewPassword");

    // ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸° ì´ë²¤íŠ¸
    usernameInput.addEventListener("input", function () {
      previewName.textContent = "ì´ë¦„: " + usernameInput.value;
    });

    emailInput.addEventListener("input", function () {
      previewEmail.textContent = "ì´ë©”ì¼: " + emailInput.value;
    });

    passwordInput.addEventListener("input", function () {
      previewPassword.textContent = "ë¹„ë°€ë²ˆí˜¸: " + "*".repeat(passwordInput.value.length);
    });

    // ì œì¶œ ì‹œ ìœ íš¨ì„± ê²€ì‚¬
    document.getElementById("signupForm").addEventListener("submit", function(e) {
      e.preventDefault();

      // ì…ë ¥ê°’ ê°€ì ¸ì˜¤ê¸°
      const name = usernameInput.value.trim();
      const email = emailInput.value.trim();
      const password = passwordInput.value;

      // ì´ˆê¸°í™”
      usernameInput.classList.remove("error");
      emailInput.classList.remove("error");
      passwordInput.classList.remove("error");

      // ì´ë¦„ ê²€ì‚¬
      if (name === "") {
        usernameInput.classList.add("error");
        alert("ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
        return;
      }

      // ì´ë©”ì¼ ê²€ì‚¬
      const emailRegex = /^[\w.-]+@[\w.-]+\.[A-Za-z]{2,}$/;
      if (!emailRegex.test(email)) {
        emailInput.classList.add("error");
        alert("ì´ë©”ì¼ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.");
        return;
      }

      // ë¹„ë°€ë²ˆí˜¸ ê²€ì‚¬
      if (password.length < 8) {
        passwordInput.classList.add("error");
        alert("ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.");
        return;
      }

      alert("íšŒì›ê°€ì… ì„±ê³µ!");
    });
  </script>
</body>
</html>
